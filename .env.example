# ==============================================================================
# AMATEUR CYCLING STATS - ENVIRONMENT CONFIGURATION
# ==============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!
# ==============================================================================

# ------------------------------------------------------------------------------
# APPLICATION CONFIGURATION
# ------------------------------------------------------------------------------
# The base URL where your application is running
# Development: http://127.0.0.1:5173 or http://localhost:5173
# Production: https://yourdomain.com
SITE_URL=http://127.0.0.1:5173

# Development server port (worktree-two uses 5175)
# Main: 5173, worktree-one: 5174, worktree-two: 5175, worktree-three: 5176
DEV_SERVER_PORT=5173

# ------------------------------------------------------------------------------
# SUPABASE CONFIGURATION
# ------------------------------------------------------------------------------
# Choose ONE configuration below based on your environment:

# --- LOCAL DEVELOPMENT (Supabase CLI) ---
# Used when running Supabase locally with `npm run supabase:start`
SUPABASE_URL=http://127.0.0.1:54321
SUPABASE_ANON_KEY=your-local-anon-key-from-supabase-start
SUPABASE_SERVICE_ROLE_KEY=your-local-service-role-key-from-supabase-start

# Supabase Local Instance Ports
# REQUIRED for all environments (local development, worktrees, Coolify deployments)
# Each worktree should use unique ports to avoid conflicts when running simultaneously
# Standard port ranges: Main (54xxx), worktree-one (55xxx), worktree-two (56xxx), etc.
SUPABASE_API_PORT=54321
SUPABASE_DB_PORT=54322
SUPABASE_DB_SHADOW_PORT=54320
SUPABASE_STUDIO_PORT=54323
SUPABASE_INBUCKET_PORT=54324
SUPABASE_POOLER_PORT=54329
SUPABASE_ANALYTICS_PORT=54327

# Supabase Project ID for config.toml (worktree-specific identifier)
# REQUIRED for all environments to distinguish Supabase instances
# Each worktree should have a unique ID (e.g., "worktree-zero", "worktree-one")
# For Coolify deployments, use a descriptive ID (e.g., "coolify-dev", "coolify-prod")
SUPABASE_ID_PROJECT=worktree-zero

# Your MailerSend API key (starts with "mlsn.")
MAILERSEND_API_KEY=mlsn.your-api-key-here

# Sender email address (must be verified in MailerSend dashboard)
# Example: noreply@yourdomain.com
MAILERSEND_FROM_EMAIL=noreply@yourdomain.com

# Display name that appears in recipient's inbox
# Example: "Amateur Cycling Stats" or "ACS Team"
MAILERSEND_FROM_NAME=Amateur Cycling Stats



# ==============================================================================
# GITHUB ENVIRONMENT CONFIGURATION FOR CI/CD (SELF-HOSTED SUPABASE)
# ==============================================================================
# GitHub Environments separate sensitive secrets from non-sensitive variables.
# Configure at: GitHub.com → Your Repo → Settings → Environments → dev
#
# ENVIRONMENT SECRETS (Sensitive - 2 required):
# ---------------------------------------------
# Settings → Environments → dev → Add secret
#
# DATABASE_URL                - PostgreSQL connection string for direct database access
#                               Format: postgresql://postgres:PASSWORD@HOST:PORT/postgres
#                               Example: postgresql://postgres:mypassword@db.example.com:5432/postgres
#                               Find in: Coolify → Database service → Connection string
#
# SUPABASE_SERVICE_ROLE_KEY   - Service role key for admin operations and seeding
#                               Find in: Coolify environment variables (SERVICE_ROLE_KEY)
#                               or Supabase Studio → Settings → API → service_role key
#
# ENVIRONMENT VARIABLES (Non-sensitive - 2 required):
# ----------------------------------------------------
# Settings → Environments → dev → Add variable
#
# SUPABASE_URL                - Your self-hosted Supabase API URL
#                               Example: https://supabase.yourdomain.com
#                               (NOT the database URL - this is the API endpoint)
#
# SITE_URL                    - Your application's public URL
#                               Example: https://dev.amateurcyclingstats.com
#                               Used for: Auth redirects, config.toml, deployment logs
#
# ==============================================================================
